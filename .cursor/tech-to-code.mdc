# MDC：面向 AI 生成内容的安全性研究与工具开发 —— 前端页面设计规范

> **目标**：构建一个功能完整、模块清晰、交互友好的 Web 前端界面，覆盖 AIGC 生成、检测、数据流转三大模块。  
> **技术栈**：React 18 + Vite + TypeScript（可选） + Mock Service Worker (MSW) 或本地 mock 数据 + Axios（用于未来对接，当前仅 mock）  
> **交互状态**：所有后端 API 调用必须使用 **mock 数据**，不可发起真实网络请求。  
> **UI 风格**：简洁、专业、科技感，采用响应式布局，适配桌面端（暂不考虑移动端）。

---

## 一、整体架构要求

- 使用 **React Router v6** 实现多页面路由。
- 主布局包含 **顶部导航栏** + **左侧功能菜单** + **主内容区**。
- 所有页面共享统一的 **状态管理**（可用 React Context 或轻量 Zustand，**不强制使用 Redux**）。
- 使用 **Ant Design (antd)** 或 **MUI** 作为 UI 组件库（任选其一，建议 Ant Design）。
- 页面加载时显示 **骨架屏（Skeleton）**，mock 响应延迟 500ms 模拟真实请求。

---

## 二、页面路由与功能模块

### 1. 首页 `/`

- 展示平台简介、核心能力卡片（生成、检测、数据流转）。
- 快捷入口按钮：跳转到“Deepfake 人脸生成”、“AI 图像检测”、“内容上传”等高频功能。

### 2. AIGC 内容生成模块 `/generate`

#### 2.1 专项生成：Deepfake 人脸生成 `/generate/deepfake`

- 表单字段：
  - 上传源人脸图片（target）
  - 上传驱动人脸/视频（source）
  - 功能选择（单选）：
    - [ ] 人脸替换（FaceSwap）
    - [ ] 人脸动画（FOMM）
    - [ ] 属性编辑（StarGAN）
  - 模型选择下拉框（FaceShifter / SimSwap / FOMM / StarGAN）
- 预览区：左右分栏，左侧输入，右侧 mock 生成结果（静态图占位 + “生成中…” 动画）。
- “生成” 按钮：点击后显示 loading，500ms 后展示 mock 生成图（固定返回预设假图）。

#### 2.2 通用生成：多模态内容生成 `/generate/general`

- 标签页切换：**图像生成** / **视频生成**
  - **图像生成**：
    - 文本输入框（prompt）
    - 尺寸选择（512x512, 768x768）
    - “生成图片” 按钮 → 返回 mock 图（如 Unsplash 占位图）
  - **视频生成**：
    - 文本输入框（prompt）
    - 参考图上传（可选）
    - 生成时长选择（2s / 4s）
    - “生成视频” 按钮 → 返回 mock 视频 URL（播放占位视频）

### 3. AIGC 内容检测模块 `/detect`

#### 3.1 虚假内容检测 `/detect/fake`

- 支持上传 **图片** 或 **视频**（单文件）
- 上传后自动触发检测（mock）
- 结果展示：
  - 顶部：大号标签 “真实” / “虚假”（彩色：绿色/红色）
  - 伪造概率：进度条 + 百分比（如 87.3%）
  - 可疑区域：在原图/视频帧上叠加 **热力图或边界框**（使用 canvas 或 CSS 蒙层模拟）
  - 检测模型信息：显示使用的检测方法（如 “D3 视频检测”）

#### 3.2 不安全内容检测 `/detect/unsafe`

- 上传图片/视频
- 检测结果展示：
  - 违规类型列表（如：暴力、色情、仇恨符号）
  - 风险等级：低 / 中 / 高（颜色标识）
  - 整改建议：文本提示（如“建议模糊处理人物面部”）

### 4. 数据流转模块 `/data`

#### 4.1 检测数据接入 `/data/input`

注意：这个模块指的是，内容检测要支持这些方式，而不是独立的页面

- 两种方式 Tab 切换：
  - **本地上传**：
    - 拖拽上传区（支持多文件、大文件）
    - 文件列表（显示名称、大小、状态）
    - 断点续传 UI 模拟（显示进度条，mock 暂停/继续）
  - **网络爬取**：
    - 输入框：URL（支持网页、YouTube、Bilibili 视频链接）
    - 平台账号授权开关（mock 授权成功）
    - “开始爬取” 按钮 → 显示 mock 爬取进度（3 步：连接 → 下载 → 预处理）

#### 4.2 生成数据输出 `/data/output`

注意：这个模块指的是，所有生成的内容要存储，然后这个页面承接，分类展示（图片 / 视频），可以供用户下载，可以的话也加上检测记录的存储

- 已生成内容列表（mock 数据）：
  - 缩略图 + 标题 + 时间
  - 操作列：**预览** / **下载** / **投放**
- 下载设置弹窗：
  - 格式（MP4 / MOV / PNG / JPG）
  - 分辨率（原始 / 720p / 1080p）
  - 批量导出开关

---

## 三、Mock 数据规范

- 所有 API 路径按以下规则 mock：
  - POST `/api/generate/deepfake` → 返回 `{ success: true, imageUrl: "/mock/deepfake_result.jpg" }`
  - POST `/api/detect/fake` → 返回 `{ isFake: true, confidence: 0.87, heatmapUrl: "/mock/heatmap.png" }`
  - POST `/api/detect/unsafe` → 返回 `{ violations: ["violence"], risk: "high", suggestions: ["blur face"] }`
  - POST `/api/data/upload` → 返回 `{ fileId: "xxx", status: "success" }`
- 使用 **MSW（Mock Service Worker）** 拦截所有 `/api/*` 请求，返回预设 JSON。

---

## 四、交付要求

> 请基于上述 MDC 文档，使用 **React + Vite + Ant Design** 实现完整的前端页面系统。要求：
>
> 1. 使用 **TypeScript** 编写组件。
> 2. 路由使用 **React Router v6**。
> 3. 所有网络请求使用 **Axios** 封装，但通过 **MSW** 全部 mock，**不得连接真实后端**。
> 4. 页面 UI 需美观、可交互，关键操作有 loading / 成功 / 错误状态。
> 5. 可疑区域可视化使用 **CSS 蒙层 + 定位** 或 **简单 canvas** 模拟，无需真实算法。
> 6. 生成/检测结果使用 **静态 mock 资源**（可放入 `public/mock/` 目录）。
> 7. 代码结构清晰，组件按功能拆分（如 `GenerateDeepfakePage`, `FakeDetectionResult`）。
> 8. 最终可运行于 `localhost:5173`。
> 9. 每个页面要有简要的介绍

---
